# CVE Service API

This document serves to describe the appearance the CVE Services will take on as they're being developed by the AWG
(Automation Working Group). Currently, the services are referred to in their parts as the Submission service,
ID Allocation service, and the User Registry service. While they are best discussed in their parts, in function they will be
provided as a whole in the form of a REST API.

## Submission Service

The Submission service operates around the CVE resource. As such, requests made to the CVE Service API under the `/cve` path
will be interacting with the Submission service.

An initial table of the types of requests that will be available to developers:

Path         | HTTP Protocol | Description
------------ | ------------- | -------------
`/cve`       | GET           | Lists CVEs w/pagination
`/cve`       | POST          | Submits a new CVE *
`/cve/:id`   | GET           | Get a single CVE by CVE ID
`/cve/:id`   | POST          | Update an existing CVE *

*: indicates endpoints will be limited to only users allowed to operate on the appropriate CNA's behalf.

## ID Allocation Service

The ID allocation service operates around the CVE-ID resource. As such, requests made to the CVE Service API under the
`/cve-id` path will be interacting with the Allocation service.

An initial table of the types of requests that will be available to developers:

Path          | HTTP Protocol | Description
------------  | ------------- | -------------
`/cve-id`     | POST          | Obtain (allocate) a new CVE ID *
`/cve-id/:id` | GET           | Get the details of a single CVE ID by the CVE ID

*: indicates endpoints will be limited to only users allowed to operate on the appropriate CNA's behalf.

Details about additional parameters one could provide to the allocation endpoint are still being established as they are
tightly coupled to the format the actual CVE ID assumes. That format is being actively discussed as there are opportunities
with the new services to improve it for the better of the community as a whole.

## User Registry Service

The User Registry service operates around the CNA resource with a unique focus on its sub-resource: user. As such, requests
made to the CVE Service API under the `/cna` and `/cna/:id/user` paths will be interacting with the User Registry service.

An initial table of the types of requests that will be available to developers:

Path              | HTTP Protocol | Description
------------      | ------------- | -------------
`/cna`            | GET           | Lists CNAs w/pagination
`/cna`            | POST          | Submits (Registers) a new CNA ^
`/cna/:id`        | GET           | Get the details of a single CNA by CNA ID
`/cna/:id`        | POST          | Update the details of an existing CNA ^&
`/cna/:id/user`   | GET           | Get the details of a single user for specific CNA ^&
`/cna/:id/user`   | POST          | Update an existing user's details for specific CNA ^&

*: indicates endpoint will be limited to only users allowed to operate on the appropriate CNA's behalf.  
^: indicates endpoint will be limited to the secretariate (authority permitted to register new CNAs).  
&: indicates endpoint will be eventually be opened to the managerial roles for that CNA.  

Keep in mind these are the bare minimum endpoints for the User Registry. Some might notice there is no indication of 
being able to manipulate roles through these endpoints and that is correct. Our goal is to work towards making these 
endpoints available with users all possessing the same basic role that allows them to safely work inside the system. 
Even if it is decided that the User Registry must contain more functionality before being titled a 1.0, this will 
still be the initial aim of the developers. Furthermore, the same approach is being taken for sub-CNAs and the like. First,
the User Registry will support a singular concept of a CNA. From there additional concepts of sub-CNAs, Root CNAs, etc can
be implemented.

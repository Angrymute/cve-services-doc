# IDR

Check header authentication fields against User Registry to confirm credentials (API secret).

Only allocate first 20k (arbitrary number) IDs to requests for a single CVE ID.
> This is to incentivize requesting IDs on demand.
> Or a batch of non-sequential IDs.

Support the ability to request a batch of IDs, sequential and non-sequential.

Store allocated CVE IDs in a collection and recording their Allocated status.
> Make sure these states adhere to current CNA rules document. -> correct names for states.
* > Make sure CVE ID JSON is in specified format. -> described in 5.0, not established yet. Also, in current form, requires attributes that are for CVE Entries and doesn't pertain to IDs.

Check with User Registry to make sure request would not exceed CNA's ID quota.
(allowed = hard_limit - reserved_not_populated)

// Leave out of MVP
Someone with the Root CNA role can allocate a CVE ID on behalf of their sub-CNAs.
> Sub-CNAs ID quota still applies.

// Leave out of MVP
Allocator will need to have a stubbed CVE entry created with a Reserved state.
! Not if we combine states
CVE-ID and CVE Entry could be same collection


## Some Risk but necessary

Allow CNAs to request IDs for the last year and future year.
> Allow the IDA to have configuration variables to keep within a designated range of past IDs
> The last year allocations still go against id quota.
	- All IDs that have reserved count towards quota.
> IDA will need record of past ID allocations in order to be able to do this. This will require a data migration from CPS to services.
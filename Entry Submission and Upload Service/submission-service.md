# Submission Service Documentation

This is the documentation for the initial submission service. This service will eventually replace the GitHub process
when it is found sufficient enough to do so. Then, the service will grow to become an official part of the group of
services being developed under the AWG.

## Requirements

In order to replace the GitHub process, this service must provide a REST endpoint where users of the GitHub process
can submit their CVEs instead of creating a pull request against the `cve-list` repo. This endpoint must be able to 
accept the CVE in the body of the request in JSON format. The service will validate the CVE JSON against the official
CVE JSON Schema.

Along with the CVE JSON, the endpoint will require a CNA identifier, a "submitter" or "author" identifier, and the api secret
belonging to the "submitter/author". We are quite confident that the specific details as to what these fields will look like 
and if any more or less are required will evovle as development progresses. Currently, the aim is to use the CNA field to 
confirm that the submitter is indeed allowed to conduct business for that CNA and then to use the api secret to confirm the
request was indeed made on behalf of the submitter.

Example header:

| Field              | Value |
| -------------      | ---------- |
| CVE-API-CNA        | Company Z  |
| CVE-API-SUBMITTER  | Jane Doe   |
| CVE-API-SECRET     | ZZZZZZ...  |

Example Schema:

We are currently waiting on the newest schema to be approved and distributed. Then we will post it here.

Finally, the service will pass the CVE on to the CVE Team's internal tool. This is in order to avoid having the submission 
service take too much responsibility in these beginning phases. If the internal tool's checks pass, the submission request
has succeeded and a success message will be returnedâ€”otherwise, an error message will be returned. Currently, we are in the
discovery phase of what exact error messages will be sent back, but as they are established they will be documented here.
Obvious standards for HTTP and REST API errors will be applied when designing these messages.

## Roll Out

Our roll out approach is to start with a very small set of developers currently using the GitHub service to assist us in
discovering any faults and smoothing out anything we can that seems to be causing immediate user grievances. The GitHub
process will remain available to everyone while we work on making sure the submission service is a reliable and viable 
replacement. As we obtain more adopters of the submission service, we will collaborate with the community to establish a
reasonable date to retire the GitHub process and move any remaining users to the new submission service.

## Developers

### Acquiring Your API Secret

For now, getting set up to use the API will be a somewhat manual process. In the future, with a developed User Registry and
website, developers will be able to obtain and regenerate their API secrets in a familiar manner.

### Integrating with the API

This service is very small so it will be likely that a developer will be able to integrate with it from the information
contained in this document (in its final form). But we'll be looking into using tools to auto-generate an Open API yaml 
file and host it alongside the API. This way, developers can be assured that the document they are consuming refers to the most recent deployment of the API. This will also become more and more valuable as this service and the API as a whole grows in functionality.
